<!doctype html>
<html>
<head>
  <script src="../bin/zlib.min.js?hogehoge"></script>
  <script>
  var USE_TYPEDARRAY = typeof Uint8Array !== 'undefined';
  </script>
<!--
  <script src="../closure-primitives/base.js?hogehoge"></script>
  <script src="../deps.js?hogehoge"></script>
<script>

goog.require('Zlib');
goog.require('Zlib.Inflate');
goog.require('Zlib.Deflate');
</script>
-->

<script>
var size = 123456;
var plain = new (USE_TYPEDARRAY ? Uint8Array : Array)(size);
var i, il;
var testData = new Array(size);

// make plain data
for (i = 0, il = size; i < il; ++i) {
  testData[i] = i & 0xff;
}

var compressedData = new Zlib.Deflate(void 0, {
  compressionType: Zlib.Deflate.CompressionType.FIXED
}).compress();
var inflator = new Zlib.Inflate(compressedData);
var inflated = inflator.decompress();

console.log("plain", testData.length);
console.log("deflated", compressedData.length);
console.log("inflated", inflated.length);

</script>
</head>
<body>
</body>
</html>
